# π… Pomki Backend

**ν¬λ¨λ„λ΅ κΈ°λ²•κ³Ό AI κΈ°μ μ„ κ²°ν•©ν• μ¤λ§νΈ ν•™μµ ν”λ«νΌ**

---

## π― ν”„λ΅μ νΈ κ°μ”

Pomkiλ” μ „ν†µμ μΈ ν¬λ¨λ„λ΅ κΈ°λ²•μ— AI κΈ°μ μ„ κ²°ν•©ν•μ—¬ ν•™μµ ν¨μ¨μ„ κ·Ήλ€ν™”ν•λ” νμ‹ μ μΈ ν”λ«νΌμ…λ‹λ‹¤.

### ν•µμ‹¬ κ°€μΉ
- β° **ν¨κ³Όμ μΈ μ‹κ°„ κ΄€λ¦¬**: κ²€μ¦λ ν¬λ¨λ„λ΅ κΈ°λ²•μΌλ΅ μ§‘μ¤‘λ ¥ ν–¥μƒ
- π¤– **AI κΈ°λ° ν•™μµ μ§€μ›**: μ‹¤μ‹κ°„ λ©”λ¨λ¥Ό μ •λ¦¬λ λ…ΈνΈλ΅ μλ™ λ³€ν™
- π“ **λ°μ΄ν„° κΈ°λ° μΈμ‚¬μ΄νΈ**: ν•™μµ ν¨ν„΄ λ¶„μ„ λ° κ°μ„  λ°©ν–¥ μ μ‹
- π”„ **λ§¤λ„λ¬μ΄ μ›ν¬ν”λ΅μ°**: μ§‘μ¤‘ β†’ λ©”λ¨ β†’ AI μ •λ¦¬ β†’ λ…ΈνΈμ μ™„μ „ μλ™ν™”

---

## β¨ μ£Όμ” κΈ°λ¥

### π… μ¤λ§νΈ ν¬λ¨λ„λ΅ νƒ€μ΄λ¨Έ
- **λ‹¤μ–‘ν• μ„Έμ… νƒ€μ…**: μ§‘μ¤‘(25λ¶„), μ§§μ€ ν΄μ‹(5λ¶„), κΈ΄ ν΄μ‹(15λ¶„)
- **μ‹¤μ‹κ°„ λ©”λ¨ μ‘μ„±**: μ§‘μ¤‘ μ¤‘ λ– μ¤λ¥΄λ” μ•„μ΄λ””μ–΄ μ¦‰μ‹ κΈ°λ΅
- **μ§€λ¥ν• μ‚¬μ΄ν΄ κ¶μ¥**: μ™„λ£ ν¨ν„΄μ— λ”°λ¥Έ μµμ  λ‹¤μ μ„Έμ… μ¶”μ²
- **λΉ λ¥Έ μ‹μ‘**: μ›ν΄λ¦­μΌλ΅ μ¦‰μ‹ ν¬λ¨λ„λ΅ μ‹μ‘

### π“ AI κΈ°λ° λ…ΈνΈ κ΄€λ¦¬
- **μλ™ λ…ΈνΈ μƒμ„±**: ν¬λ¨λ„λ΅ μ„Έμ…μ λ©”λ¨λ¥Ό AIκ°€ μ •λ¦¬λ λ…ΈνΈλ΅ λ³€ν™
- **μ¤νƒ€μΌλ³„ ν΄λ¦¬μ‹±**: μ”μ•½, μƒμ„Έμ„¤λ…, ν•µμ‹¬κ°λ…, λ¬Έλ²•κµμ • λ“± 4κ°€μ§€ μ¤νƒ€μΌ
- **λ…ΈνΈ CRUD**: μƒμ„±, μ΅°ν, μμ •, μ‚­μ μ μ™„μ „ν• λ…ΈνΈ κ΄€λ¦¬
- **AI κ°•ν™” ν‘μ‹**: AIλ΅ κ°μ„ λ λ…ΈνΈ κµ¬λ¶„

### π“ ν•™μµ λ¶„μ„ λ€μ‹λ³΄λ“
- **μ‹¤μ‹κ°„ ν†µκ³„**: μ¤λ, μ΄λ² μ£Ό, μ „μ²΄ κΈ°κ°„ ν•™μµ λ°μ΄ν„°
- **ν¬λ¨λ„λ΅ λ¶„μ„**: μ™„λ£μ¨, μ§‘μ¤‘ μ‹κ°„, μ„Έμ… ν¨ν„΄ λ¶„μ„
- **ν•™μµ μ§„λ„ μ¶”μ **: λ…ΈνΈ μƒμ„±λ‰, AI ν™μ©λ„ λ“± μΆ…ν•© μ§€ν‘

### π” μ‚¬μ©μ κ΄€λ¦¬
- **λ‹¤μ¤‘ λ΅κ·ΈμΈ**: μΌλ° λ΅κ·ΈμΈ + OAuth2 (Google, Kakao)
- **JWT μΈμ¦**: λ³΄μ•μ΄ κ°•ν™”λ ν† ν° κΈ°λ° μΈμ¦
- **κ°μΈν™”**: μ‚¬μ©μλ³„ λ…λ¦½μ μΈ λ°μ΄ν„° κ΄€λ¦¬

---

## π—οΈ κΈ°μ  μ¤νƒ

### Backend
- **Framework**: Spring Boot 3.x
- **Language**: Java 17
- **Security**: Spring Security + JWT
- **Database**: H2 (κ°λ°) / MariaDB (μ΄μ)
- **Cache**: Redis
- **AI Integration**: OpenAI GPT API

### Documentation & Testing
- **API Docs**: Swagger/OpenAPI 3
- **Testing**: JUnit 5 + Mockito
- **Monitoring**: Spring Boot Actuator

---

## π€ λΉ λ¥Έ μ‹μ‘

### μ‚¬μ „ μ”κµ¬μ‚¬ν•­
- Java 17 μ΄μƒ
- Git

### 1. ν”„λ΅μ νΈ ν΄λ΅ 
```bash
git clone https://github.com/your-repo/pomki-backend.git
cd pomki-backend/backend
```

### 2. ν™κ²½ μ„¤μ •
```bash
# application.yml νμΌ ν™•μΈ (μ΄λ―Έ H2λ΅ μ„¤μ •λ¨)
# OpenAI API ν‚¤κ°€ μλ‹¤λ©΄ μ„¤μ • (μ„ νƒμ‚¬ν•­)
```

### 3. μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰
```bash
./gradlew bootRun
```

### 4. μ ‘μ† ν™•μΈ
- **API μ„λ²„**: http://localhost:8080/api
- **Swagger UI**: http://localhost:8080/swagger-ui.html
- **H2 μ½μ†”**: http://localhost:8080/h2-console

---

## π“‹ API μ—”λ“ν¬μΈνΈ

### μΈμ¦ (Authentication)
```
POST /api/auth/signup     # νμ›κ°€μ…
POST /api/auth/login      # λ΅κ·ΈμΈ
```

### λ…ΈνΈ κ΄€λ¦¬ (Notes)
```
GET    /api/notes         # λ…ΈνΈ λ©λ΅ μ΅°ν
POST   /api/notes         # λ…ΈνΈ μƒμ„±
GET    /api/notes/{id}    # λ…ΈνΈ μƒμ„Έ μ΅°ν
PUT    /api/notes/{id}    # λ…ΈνΈ μμ •
DELETE /api/notes/{id}    # λ…ΈνΈ μ‚­μ 
```

### AI κΈ°λ¥ (AI Services)
```
GET  /api/ai/status              # AI μ„λΉ„μ¤ μƒνƒ
POST /api/ai/polish-note         # λ…ΈνΈ AI ν΄λ¦¬μ‹±
POST /api/ai/apply-polish/{id}   # ν΄λ¦¬μ‹± κ²°κ³Ό μ μ©
```

### ν¬λ¨λ„λ΅ νƒ€μ΄λ¨Έ (Pomodoro)
```
POST /api/pomodoro/quick-start                    # λΉ λ¥Έ μ‹μ‘
POST /api/pomodoro/sessions                       # μ„Έμ… μƒμ„±
GET  /api/pomodoro/current                        # ν„μ¬ μ„Έμ… μ΅°ν
PUT  /api/pomodoro/sessions/{id}/notes           # μ‹¤μ‹κ°„ λ©”λ¨
POST /api/pomodoro/sessions/{id}/complete        # μ„Έμ… μ™„λ£
POST /api/pomodoro/sessions/{id}/generate-note   # λ…ΈνΈ μλ™ μƒμ„±
GET  /api/pomodoro/stats                         # ν¬λ¨λ„λ΅ ν†µκ³„
GET  /api/pomodoro/cycle-suggestion              # μ‚¬μ΄ν΄ κ¶μ¥
```

### ν†µκ³„ (Statistics)
```
GET /api/simple-stats     # ν†µν•© ν•™μµ ν†µκ³„
```

---

## π”„ μ™„μ „ν• ν•™μµ μ›ν¬ν”λ΅μ°

### 1. ν¬λ¨λ„λ΅ μ‹μ‘
```bash
curl -X POST "http://localhost:8080/api/pomodoro/quick-start?duration=25&goal=Javaν•™μµ" \
  -H "Authorization: Bearer {your-token}"
```

### 2. μ‹¤μ‹κ°„ λ©”λ¨ μ‘μ„± (μ§‘μ¤‘ μ„Έμ… μ¤‘)
```bash
curl -X PUT "http://localhost:8080/api/pomodoro/sessions/{sessionId}/notes" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer {your-token}" \
  -d '{"sessionNotes": "Spring Boot μλ™ μ„¤μ •μ— λ€ν•΄ ν•™μµμ¤‘..."}'
```

### 3. μ„Έμ… μ™„λ£ (AI μ”μ•½ ν¬ν•¨)
```bash
curl -X POST "http://localhost:8080/api/pomodoro/sessions/{sessionId}/complete" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer {your-token}" \
  -d '{"actualDuration": 25, "generateAiSummary": true}'
```

### 4. AI μ”μ•½μΌλ΅ λ…ΈνΈ μλ™ μƒμ„±
```bash
curl -X POST "http://localhost:8080/api/pomodoro/sessions/{sessionId}/generate-note" \
  -H "Authorization: Bearer {your-token}"
```

### 5. μƒμ„±λ λ…ΈνΈ ν™•μΈ
```bash
curl -X GET "http://localhost:8080/api/notes/{noteId}" \
  -H "Authorization: Bearer {your-token}"
```

---

## π§ ν…μ¤νΈ λ°©λ²•

### 1. Postman μ»¬λ ‰μ… μ‚¬μ©
```bash
# postman/ λ””λ ‰ν† λ¦¬μ μ»¬λ ‰μ… νμΌ μ„ν¬νΈ
# ν™κ²½ λ³€μ μ„¤μ •: baseUrl=http://localhost:8080/api
```

### 2. ν†µν•© ν…μ¤νΈ μ‹λ‚λ¦¬μ¤
```bash
# test_scenarios/ λ””λ ‰ν† λ¦¬μ μ‹λ‚λ¦¬μ¤ λ¬Έμ„ μ°Έμ΅°
# 5κ°€μ§€ μ£Όμ” μ‹λ‚λ¦¬μ¤ + μ¤λ¥ μ²λ¦¬ ν…μ¤νΈ
```

### 3. μ²΄ν¬λ¦¬μ¤νΈ ν™μ©
```bash
# test_checklist/ λ””λ ‰ν† λ¦¬μ μ²΄ν¬λ¦¬μ¤νΈ μ‚¬μ©
# 120κ° ν•­λ©μ μΆ…ν•©μ μΈ ν…μ¤νΈ κ°€μ΄λ“
```

---

## π“‚ ν”„λ΅μ νΈ κµ¬μ΅°

```
backend/
β”β”€β”€ src/main/java/com/cooltomato/pomki/
β”‚   β”β”€β”€ ai/                 # AI κΈ°λ¥ (λ…ΈνΈ ν΄λ¦¬μ‹±)
β”‚   β”β”€β”€ auth/               # μΈμ¦ & κ¶ν•
β”‚   β”β”€β”€ member/             # μ‚¬μ©μ κ΄€λ¦¬
β”‚   β”β”€β”€ note/               # λ…ΈνΈ κ΄€λ¦¬
β”‚   β”β”€β”€ pomodoro/           # ν¬λ¨λ„λ΅ νƒ€μ΄λ¨Έ
β”‚   β”β”€β”€ global/             # κ³µν†µ μ„¤μ • & μμ™Έμ²λ¦¬
β”‚   β””β”€β”€ PomkiApplication.java
β”β”€β”€ src/main/resources/
β”‚   β”β”€β”€ application.yml     # λ©”μΈ μ„¤μ •
β”‚   β””β”€β”€ config/
β”β”€β”€ documentation/          # API λ¬Έμ„
β”β”€β”€ postman/               # Postman μ»¬λ ‰μ…
β”β”€β”€ test_scenarios/        # ν…μ¤νΈ μ‹λ‚λ¦¬μ¤
β””β”€β”€ test_checklist/        # ν…μ¤νΈ μ²΄ν¬λ¦¬μ¤νΈ
```

---

## β™οΈ ν™κ²½ μ„¤μ •

### κ°λ° ν™κ²½ (κΈ°λ³Έκ°’)
```yaml
spring:
  datasource:
    driver-class-name: org.h2.Driver
    url: jdbc:h2:mem:pomki
  jpa:
    hibernate:
      ddl-auto: create-drop
  h2:
    console:
      enabled: true
```

### AI κΈ°λ¥ ν™μ„±ν™” (μ„ νƒμ‚¬ν•­)
```yaml
ai:
  openai:
    api-key: your-openai-api-key
    model: gpt-3.5-turbo
    enabled: true
```

### μ΄μ ν™κ²½ (MariaDB)
```yaml
spring:
  datasource:
    driver-class-name: org.mariadb.jdbc.Driver
    url: jdbc:mariadb://localhost:3306/pomki
    username: your-username
    password: your-password
  jpa:
    hibernate:
      ddl-auto: validate
```

---

## π› οΈ κ°λ° κ°€μ΄λ“

### μƒλ΅μ΄ κΈ°λ¥ μ¶”κ°€
1. **μ—”ν‹°ν‹° μƒμ„±**: JPA μ—”ν‹°ν‹° μ •μ
2. **λ¦¬ν¬μ§€ν† λ¦¬**: Spring Data JPA μΈν„°νμ΄μ¤
3. **μ„λΉ„μ¤**: λΉ„μ¦λ‹μ¤ λ΅μ§ κµ¬ν„
4. **μ»¨νΈλ΅¤λ¬**: REST API μ—”λ“ν¬μΈνΈ
5. **DTO**: μ”μ²­/μ‘λ‹µ κ°μ²΄ μ •μ
6. **ν…μ¤νΈ**: λ‹¨μ„/ν†µν•© ν…μ¤νΈ μ‘μ„±

### μ½”λ“ μ¤νƒ€μΌ
- **Naming**: camelCase (Java), snake_case (DB)
- **Annotation**: Lombok μ κ·Ή ν™μ©
- **Exception**: κΈ€λ΅λ² μμ™Έ μ²λ¦¬κΈ° μ‚¬μ©
- **Validation**: Bean Validation ν™μ©

---

## π” λ¨λ‹ν„°λ§ & λ””λ²„κΉ…

### Actuator μ—”λ“ν¬μΈνΈ
```
GET /actuator/health        # ν—¬μ¤μ²΄ν¬
GET /actuator/metrics       # λ©”νΈλ¦­
GET /actuator/info          # μ• ν”λ¦¬μΌ€μ΄μ… μ •λ³΄
```

### λ΅κ·Έ μ„¤μ •
```yaml
logging:
  level:
    com.cooltomato.pomki: DEBUG
    org.springframework.security: DEBUG
```

### H2 λ°μ΄ν„°λ² μ΄μ¤ μ½μ†”
```
URL: http://localhost:8080/h2-console
JDBC URL: jdbc:h2:mem:pomki
Username: sa
Password: (λΉ λ¬Έμμ—΄)
```

---

## π€ λ°°ν¬

### Docker λ°°ν¬
```bash
# Dockerfile λΉλ“
docker build -t pomki-backend .

# μ»¨ν…μ΄λ„ μ‹¤ν–‰
docker run -p 8080:8080 \
  -e AI_OPENAI_API_KEY=your-key \
  -e SPRING_PROFILES_ACTIVE=prod \
  pomki-backend
```

### JAR λ°°ν¬
```bash
# JAR νμΌ λΉλ“
./gradlew build

# μ‹¤ν–‰
java -jar build/libs/pomki-backend-1.0.0.jar \
  --spring.profiles.active=prod \
  --ai.openai.api-key=your-key
```

---

## π¤ κΈ°μ—¬ν•κΈ°

### κ°λ° ν™κ²½ μ„¤μ •
1. Fork & Clone
2. λΈλμΉ μƒμ„±: `git checkout -b feature/new-feature`
3. κ°λ° & ν…μ¤νΈ
4. μ»¤λ°‹: `git commit -m "Add new feature"`
5. ν‘Έμ‹: `git push origin feature/new-feature`
6. Pull Request μƒμ„±

### μ½”λ“ λ¦¬λ·° μ²΄ν¬λ¦¬μ¤νΈ
- [ ] ν…μ¤νΈ μ½”λ“ ν¬ν•¨
- [ ] API λ¬Έμ„ μ—…λ°μ΄νΈ
- [ ] μμ™Έ μ²λ¦¬ κµ¬ν„
- [ ] λ΅κ·Έ μ¶”κ°€
- [ ] μ„±λ¥ μν–¥ κ²€ν† 

---

## π“ μ§€μ› & λ¬Έμ

- **μ΄μ λ¦¬ν¬νΈ**: GitHub Issues
- **κΈ°λ¥ μ”μ²­**: GitHub Discussions
- **λ³΄μ• μ·¨μ•½μ **: security@pomki.io

---

## π“„ λΌμ΄μ„ μ¤

μ΄ ν”„λ΅μ νΈλ” MIT λΌμ΄μ„ μ¤ ν•μ— λ°°ν¬λ©λ‹λ‹¤. μμ„Έν• λ‚΄μ©μ€ [LICENSE](LICENSE) νμΌμ„ μ°Έμ΅°ν•μ„Έμ”.

---

## π― λ΅λ“λ§µ

### v1.1 (μμ •)
- [ ] λ¨λ°”μΌ μ•± μ§€μ›
- [ ] ν€ ν‘μ—… κΈ°λ¥
- [ ] λ” λ§μ€ AI λ¨λΈ μ§€μ›

### v1.2 (μμ •)
- [ ] μΊλ¦°λ” μ—°λ™
- [ ] μμ„± λ©”λ¨ μ§€μ›
- [ ] ν•™μµ λ©ν‘ μ„¤μ •

---

**Made with β¤οΈ for better learning**

*Pomki v1.0.0 - λ‹Ήμ‹ μ ν•™μµμ„ λ” μ¤λ§νΈν•κ²* 